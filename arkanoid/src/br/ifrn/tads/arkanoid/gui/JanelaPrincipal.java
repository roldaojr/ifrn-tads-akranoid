/*
 * To change this template, choose Tools | Templates
 * and open the template in the editor.
 */
package br.ifrn.tads.arkanoid.gui;

import br.ifrn.tads.arkanoid.jogo.CenaDeJogo;
import br.ifrn.tads.arkanoid.jogo.ControleDeJogo;
import java.awt.*;
import java.awt.event.ActionEvent;
import java.awt.image.BufferedImage;
import javax.swing.ImageIcon;
import javax.swing.JFileChooser;

/**
 *
 * @author Roldão
 */
public class JanelaPrincipal extends javax.swing.JFrame {
    ControleDeJogo jogo;
    private Image backgroundImage;
    /**
     * Creates new form JanelaPrincipal
     */
    public JanelaPrincipal() {
        initComponents();
        setLocationRelativeTo(null);
        jogo = new ControleDeJogo((CenaDeJogo) cenaDeJogo);
        
    }

    /**
     * This method is called from within the constructor to initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is always
     * regenerated by the Form Editor.
     */
    @SuppressWarnings("unchecked")
    // <editor-fold defaultstate="collapsed" desc="Generated Code">//GEN-BEGIN:initComponents
    private void initComponents() {

        jColorChooser1 = new javax.swing.JColorChooser();
        jMenuBar2 = new javax.swing.JMenuBar();
        jMenu2 = new javax.swing.JMenu();
        jMenu3 = new javax.swing.JMenu();
        jTextField1 = new javax.swing.JTextField();
        jCheckBoxMenuItem1 = new javax.swing.JCheckBoxMenuItem();
        jPopupMenu1 = new javax.swing.JPopupMenu();
        jMenuItem1 = new javax.swing.JMenuItem();
        backPanel = new NewJPanel();
        cenaDeJogo = new br.ifrn.tads.arkanoid.jogo.CenaDeJogo();
        JpanelMenu = new javax.swing.JPanel();
        pontos = new javax.swing.JLabel();
        Nivel = new javax.swing.JLabel();
        Vidas = new javax.swing.JLabel();
        Slogan = new javax.swing.JLabel();
        imgNivel = new javax.swing.JLabel();
        imgpontos = new javax.swing.JLabel();
        imgVidas = new javax.swing.JLabel();
        jLabel1 = new javax.swing.JLabel();
        jLabel2 = new javax.swing.JLabel();
        creditos = new javax.swing.JLabel();
        jMenuBar1 = new javax.swing.JMenuBar();
        jMenu1 = new javax.swing.JMenu();
        miNovoJogo = new javax.swing.JMenuItem();
        miCarregarJogo = new javax.swing.JMenuItem();
        miSalvarJogo = new javax.swing.JMenuItem();
        miPausar = new javax.swing.JMenuItem();
        miTerminarJogo = new javax.swing.JMenuItem();
        miSair = new javax.swing.JMenuItem();

        jMenu2.setText("File");
        jMenuBar2.add(jMenu2);

        jMenu3.setText("Edit");
        jMenuBar2.add(jMenu3);

        jTextField1.setText("jTextField1");

        jCheckBoxMenuItem1.setSelected(true);
        jCheckBoxMenuItem1.setText("jCheckBoxMenuItem1");

        jMenuItem1.setText("jMenuItem1");

        setDefaultCloseOperation(javax.swing.WindowConstants.EXIT_ON_CLOSE);
        setTitle("Arkanoid");
        setName("frame"); // NOI18N
        setResizable(false);
        setType(java.awt.Window.Type.POPUP);

        backPanel.setOpaque(false);

        cenaDeJogo.setBorder(javax.swing.BorderFactory.createLineBorder(new java.awt.Color(0, 0, 0), 4));
        cenaDeJogo.setOpaque(false);

        javax.swing.GroupLayout cenaDeJogoLayout = new javax.swing.GroupLayout(cenaDeJogo);
        cenaDeJogo.setLayout(cenaDeJogoLayout);
        cenaDeJogoLayout.setHorizontalGroup(
            cenaDeJogoLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGap(0, 647, Short.MAX_VALUE)
        );
        cenaDeJogoLayout.setVerticalGroup(
            cenaDeJogoLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGap(0, 0, Short.MAX_VALUE)
        );

        JpanelMenu.setBackground(new java.awt.Color(0, 0, 0));
        JpanelMenu.setBorder(javax.swing.BorderFactory.createLineBorder(new java.awt.Color(0, 0, 0), 4));
        JpanelMenu.setOpaque(false);
        JpanelMenu.setLayout(new org.netbeans.lib.awtextra.AbsoluteLayout());

        pontos.setFont(new java.awt.Font("Verdana", 1, 18)); // NOI18N
        pontos.setForeground(new java.awt.Color(255, 255, 0));
        pontos.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);
        pontos.setText("SCORE - ");
        pontos.setToolTipText("");
        JpanelMenu.add(pontos, new org.netbeans.lib.awtextra.AbsoluteConstraints(40, 160, 110, -1));

        Nivel.setFont(new java.awt.Font("Verdana", 1, 18)); // NOI18N
        Nivel.setForeground(new java.awt.Color(255, 255, 0));
        Nivel.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);
        Nivel.setText(" LEVEL - ");
        JpanelMenu.add(Nivel, new org.netbeans.lib.awtextra.AbsoluteConstraints(40, 230, 90, 30));

        Vidas.setFont(new java.awt.Font("Verdana", 1, 18)); // NOI18N
        Vidas.setForeground(new java.awt.Color(255, 255, 0));
        Vidas.setText("LIFE - ");
        JpanelMenu.add(Vidas, new org.netbeans.lib.awtextra.AbsoluteConstraints(49, 313, -1, 30));

        Slogan.setIcon(new javax.swing.ImageIcon(getClass().getResource("/br/ifrn/tads/arkanoid/imagens/Arkanoid.png"))); // NOI18N
        Slogan.setText("jLabel2");
        Slogan.setBorder(javax.swing.BorderFactory.createLineBorder(new java.awt.Color(0, 0, 0)));
        JpanelMenu.add(Slogan, new org.netbeans.lib.awtextra.AbsoluteConstraints(14, 15, 240, 90));

        imgNivel.setIcon(new javax.swing.ImageIcon(getClass().getResource("/br/ifrn/tads/arkanoid/imagens/Butons.jpg"))); // NOI18N
        imgNivel.setText("jLabel1");
        JpanelMenu.add(imgNivel, new org.netbeans.lib.awtextra.AbsoluteConstraints(27, 219, 197, -1));

        imgpontos.setIcon(new javax.swing.ImageIcon(getClass().getResource("/br/ifrn/tads/arkanoid/imagens/Butons.jpg"))); // NOI18N
        JpanelMenu.add(imgpontos, new org.netbeans.lib.awtextra.AbsoluteConstraints(30, 140, 196, 65));

        imgVidas.setIcon(new javax.swing.ImageIcon(getClass().getResource("/br/ifrn/tads/arkanoid/imagens/Butons.jpg"))); // NOI18N
        imgVidas.setText("jLabel4");
        JpanelMenu.add(imgVidas, new org.netbeans.lib.awtextra.AbsoluteConstraints(27, 300, 197, -1));

        jLabel1.setFont(new java.awt.Font("Tahoma", 1, 12)); // NOI18N
        jLabel1.setForeground(new java.awt.Color(255, 255, 0));
        jLabel1.setText("By:");
        JpanelMenu.add(jLabel1, new org.netbeans.lib.awtextra.AbsoluteConstraints(110, 460, 30, -1));

        jLabel2.setFont(new java.awt.Font("Verdana", 2, 12)); // NOI18N
        jLabel2.setForeground(new java.awt.Color(255, 255, 0));
        jLabel2.setText("Roldão Júnior and Fco Antonio");
        JpanelMenu.add(jLabel2, new org.netbeans.lib.awtextra.AbsoluteConstraints(40, 480, -1, -1));

        creditos.setIcon(new javax.swing.ImageIcon(getClass().getResource("/br/ifrn/tads/arkanoid/imagens/Butons.jpg"))); // NOI18N
        creditos.setText("jLabel6");
        JpanelMenu.add(creditos, new org.netbeans.lib.awtextra.AbsoluteConstraints(30, 440, 197, 80));

        javax.swing.GroupLayout backPanelLayout = new javax.swing.GroupLayout(backPanel);
        backPanel.setLayout(backPanelLayout);
        backPanelLayout.setHorizontalGroup(
            backPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, backPanelLayout.createSequentialGroup()
                .addContainerGap()
                .addComponent(cenaDeJogo, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(JpanelMenu, javax.swing.GroupLayout.PREFERRED_SIZE, 265, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addContainerGap())
        );
        backPanelLayout.setVerticalGroup(
            backPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(backPanelLayout.createSequentialGroup()
                .addContainerGap()
                .addGroup(backPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(JpanelMenu, javax.swing.GroupLayout.DEFAULT_SIZE, 539, Short.MAX_VALUE)
                    .addComponent(cenaDeJogo, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
                .addContainerGap())
        );

        getContentPane().add(backPanel, java.awt.BorderLayout.CENTER);

        jMenu1.setText("Jogo");

        miNovoJogo.setAccelerator(javax.swing.KeyStroke.getKeyStroke(java.awt.event.KeyEvent.VK_N, java.awt.event.InputEvent.CTRL_MASK));
        miNovoJogo.setText("Novo Jogo");
        miNovoJogo.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                miNovoJogoActionPerformed(evt);
            }
        });
        jMenu1.add(miNovoJogo);

        miCarregarJogo.setAccelerator(javax.swing.KeyStroke.getKeyStroke(java.awt.event.KeyEvent.VK_L, java.awt.event.InputEvent.CTRL_MASK));
        miCarregarJogo.setText("Carregar Jogo");
        miCarregarJogo.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                miCarregarJogoActionPerformed(evt);
            }
        });
        jMenu1.add(miCarregarJogo);

        miSalvarJogo.setAccelerator(javax.swing.KeyStroke.getKeyStroke(java.awt.event.KeyEvent.VK_S, java.awt.event.InputEvent.CTRL_MASK));
        miSalvarJogo.setText("Salvar Jogo");
        miSalvarJogo.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                miSalvarJogoActionPerformed(evt);
            }
        });
        jMenu1.add(miSalvarJogo);

        miPausar.setAccelerator(javax.swing.KeyStroke.getKeyStroke(java.awt.event.KeyEvent.VK_P, java.awt.event.InputEvent.CTRL_MASK));
        miPausar.setText("Pausar");
        miPausar.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                miPausarActionPerformed(evt);
            }
        });
        jMenu1.add(miPausar);

        miTerminarJogo.setAccelerator(javax.swing.KeyStroke.getKeyStroke(java.awt.event.KeyEvent.VK_Q, java.awt.event.InputEvent.CTRL_MASK));
        miTerminarJogo.setText("Terminar Jogo");
        miTerminarJogo.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                miTerminarJogoActionPerformed(evt);
            }
        });
        jMenu1.add(miTerminarJogo);

        miSair.setText("Sair");
        miSair.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                miSairActionPerformed(evt);
            }
        });
        jMenu1.add(miSair);

        jMenuBar1.add(jMenu1);

        setJMenuBar(jMenuBar1);

        pack();
    }// </editor-fold>//GEN-END:initComponents

    private void miSairActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_miSairActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_miSairActionPerformed

    private void miCarregarJogoActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_miCarregarJogoActionPerformed
        JFileChooser fc = new JFileChooser();
        if (fc.showOpenDialog(this) == JFileChooser.APPROVE_OPTION) {
            jogo.SalvarJogo(fc.getSelectedFile().getAbsolutePath());
        }
    }//GEN-LAST:event_miCarregarJogoActionPerformed

    private void miNovoJogoActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_miNovoJogoActionPerformed
        jogo.IniciarJogo();
        // Criar cursor a patir de uma imagem transparente
        BufferedImage cursorImg = new BufferedImage(16, 16, BufferedImage.TYPE_INT_ARGB);
        Cursor blankCursor = Toolkit.getDefaultToolkit().createCustomCursor(cursorImg, new Point(0, 0), "blank cursor");
        getContentPane().setCursor(blankCursor);
    }//GEN-LAST:event_miNovoJogoActionPerformed

    private void miTerminarJogoActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_miTerminarJogoActionPerformed
        jogo.TerminarJogo();
        getContentPane().setCursor(Cursor.getDefaultCursor());
    }//GEN-LAST:event_miTerminarJogoActionPerformed

    private void miSalvarJogoActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_miSalvarJogoActionPerformed
        JFileChooser fc = new JFileChooser();
        if (fc.showSaveDialog(this) == JFileChooser.APPROVE_OPTION) {
            jogo.SalvarJogo(fc.getSelectedFile().getAbsolutePath());
        }
    }//GEN-LAST:event_miSalvarJogoActionPerformed

    private void miPausarActionPerformed(java.awt.event.ActionEvent evt) {                                           
        if(jogo.EmPausa()) {
            // Criar cursor a patir de uma imagem transparente
            BufferedImage cursorImg = new BufferedImage(16, 16, BufferedImage.TYPE_INT_ARGB);
            Cursor blankCursor = Toolkit.getDefaultToolkit().createCustomCursor(cursorImg, new Point(0, 0), "blank cursor");
            getContentPane().setCursor(blankCursor);
            miPausar.setText("Pausar");
            jogo.ContinuarJogo();
        } else {
            getContentPane().setCursor(Cursor.getDefaultCursor());
            miPausar.setText("Continuar");
            jogo.PausarJogo();
        }
    }
    
    /**
     * @param args the command line arguments
     */
    public static void main(String args[]) {
        /* Create and display the form */
        java.awt.EventQueue.invokeLater(new Runnable() {
            public void run() {
                new JanelaPrincipal().setVisible(true);
            }
        });
    }
    // Variables declaration - do not modify//GEN-BEGIN:variables
    private javax.swing.JPanel JpanelMenu;
    private javax.swing.JLabel Nivel;
    private javax.swing.JLabel Slogan;
    private javax.swing.JLabel Vidas;
    private javax.swing.JPanel backPanel;
    private javax.swing.JPanel cenaDeJogo;
    private javax.swing.JLabel creditos;
    private javax.swing.JLabel imgNivel;
    private javax.swing.JLabel imgVidas;
    private javax.swing.JLabel imgpontos;
    private javax.swing.JCheckBoxMenuItem jCheckBoxMenuItem1;
    private javax.swing.JColorChooser jColorChooser1;
    private javax.swing.JLabel jLabel1;
    private javax.swing.JLabel jLabel2;
    private javax.swing.JMenu jMenu1;
    private javax.swing.JMenu jMenu2;
    private javax.swing.JMenu jMenu3;
    private javax.swing.JMenuBar jMenuBar1;
    private javax.swing.JMenuBar jMenuBar2;
    private javax.swing.JMenuItem jMenuItem1;
    private javax.swing.JPopupMenu jPopupMenu1;
    private javax.swing.JTextField jTextField1;
    private javax.swing.JMenuItem miCarregarJogo;
    private javax.swing.JMenuItem miNovoJogo;
    private javax.swing.JMenuItem miPausar;
    private javax.swing.JMenuItem miSair;
    private javax.swing.JMenuItem miSalvarJogo;
    private javax.swing.JMenuItem miTerminarJogo;
    private javax.swing.JLabel pontos;
    // End of variables declaration//GEN-END:variables
}
